!function e(t,n,a){function o(s,i){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!i&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n?n:e)},u,u.exports,e,t,n,a)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<a.length;s++)o(a[s]);return o}({1:[function(e,t,n){var a=e("./router");$(document).ready(function(){router=new a,Backbone.history.start({root:"/",pushState:!0}),console.log("Rewind started")})},{"./router":9}],2:[function(e,t,n){var a=e("../models/update");t.exports=UpdatesCollection=Backbone.Collection.extend({model:a,comparator:function(e,t){return new Date(t.get("timestamp"))-new Date(e.get("timestamp"))},initialize:function(e){this.url=e.url||"/api/updates"}})},{"../models/update":8}],3:[function(e,t,n){var a=e("./yourUpdates.react");t.exports=AppComponent=React.createClass({displayName:"AppComponent",render:function(){return React.createElement(a,{url:"/api/updates"})}})},{"./yourUpdates.react":7}],4:[function(e,t,n){var a=e("../utils/prettyDate"),o=3e4;t.exports=UpdateComponent=React.createClass({displayName:"UpdateComponent",componentWillEnter:function(e){var t=$(this.getDOMNode());t.fadeIn(500,function(){e()})},componentWillLeave:function(e){var t=$(this.getDOMNode());t.fadeOut(500,function(){e()})},componentDidMount:function(){var e=this;this.rerenderTimer=setInterval(function(){e.forceUpdate.call(e)},o)},componentWillUnmount:function(){clearInterval(this.rerenderTimer)},handleDelete:function(e){e.preventDefault(),this.props.onDelete(this.props.id)},render:function(){return React.createElement("li",{className:"update_box",style:{display:"none"}},React.createElement("div",{className:"update"},React.createElement("span",{className:"content"},this.props.children)),React.createElement("div",{className:"options"},React.createElement("button",{className:"delete",onClick:this.handleDelete},"Delete"),React.createElement("div",{className:"info"},React.createElement("span",{className:"timestamp"},a(new Date(this.props.timestamp)))," by ",React.createElement("span",{className:"username"},React.createElement("a",{href:"http://nathankunicki.com/rewind/"},"@nathankunicki")))))}})},{"../utils/prettyDate":11}],5:[function(e,t,n){t.exports=UpdateFormComponent=React.createClass({displayName:"UpdateFormComponent",handleSubmit:function(e){e.preventDefault();var t=React.findDOMNode(this.refs.text).value.trim();t&&(this.props.onUpdateSubmit(t),React.findDOMNode(this.refs.text).value="")},render:function(){return React.createElement("form",{className:"update_form",onSubmit:this.handleSubmit},React.createElement("textarea",{placeholder:"What's on your mind?",ref:"text"}),React.createElement("div",{className:"options"},React.createElement("button",{className:"location"},"Add Location"),React.createElement("button",{className:"image"},"Add Image"),React.createElement("button",{className:"blog"},"Add Blog"),React.createElement("input",{type:"submit",value:"Post"})))}})},{}],6:[function(e,t,n){var a=e("./update.react"),o=function(e){for(var t=["id","timestamp","text"],n=0;n<t.length;n++)if(!e.get(t[n]))return!1;return!0},r=React.addons.TransitionGroup;t.exports=UpdatesListComponent=React.createClass({displayName:"UpdatesListComponent",render:function(){for(var e=[],t=0;t<this.props.updates.length;t++){var n=this.props.updates.at(t);o(n)&&e.push(React.createElement(a,{onDelete:this.props.onDelete,key:n.get("id"),id:n.get("id"),timestamp:n.get("timestamp")},n.get("text")))}return React.createElement(r,{component:"ul",className:"updates_list"},e)}})},{"./update.react":4}],7:[function(e,t,n){var a=e("../models/update"),o=e("../collections/updates"),r=e("../components/updateForm.react"),s=e("../components/updatesList.react"),i=e("../utils/backboneMixin"),c=1e4;t.exports=YourUpdatesCompoent=React.createClass({displayName:"YourUpdatesCompoent",mixins:[i],getBackboneModels:function(){return[this.state.updates]},handleUpdateSubmit:function(e){var t=new a({timestamp:(new Date).toISOString(),text:e});this.state.updates.add(t),t.save()},handleDelete:function(e){var t=this.state.updates.get(e);t.destroy()},getInitialState:function(){var e=new o({url:"/api/updates"});return{updates:e}},componentDidMount:function(){var e=this;e.state.updates.fetch(),this.fetchTimer=setInterval(function(){e.state.updates.fetch()},c)},componentWillUnmount:function(){clearInterval(this.fetchTimer)},render:function(){return React.createElement("div",{className:"my_updates"},React.createElement(r,{onUpdateSubmit:this.handleUpdateSubmit}),React.createElement(s,{onDelete:this.handleDelete,updates:this.state.updates}))}})},{"../collections/updates":2,"../components/updateForm.react":5,"../components/updatesList.react":6,"../models/update":8,"../utils/backboneMixin":10}],8:[function(e,t,n){t.exports=UpdateModel=Backbone.Model.extend({defaults:{timestamp:null,text:null},urlRoot:"/api/updates"})},{}],9:[function(e,t,n){var a=e("./components/app.react");t.exports=Router=Backbone.Router.extend({routes:{"*filter":"setFilter"},setFilter:function(e){React.render(React.createElement(a,null),$("#app").get(0))}})},{"./components/app.react":3}],10:[function(e,t,n){t.exports=BackboneMixin={componentDidMount:function(){this.getBackboneModels().forEach(function(e){e.on("add change remove",this.forceUpdate.bind(this,null),this)},this)},componentWillUnmount:function(){this.getBackboneModels().forEach(function(e){e.off(null,null,this)},this)}}},{}],11:[function(e,t,n){var a=function(e,t,n){return function(a){var o=Math.floor(a/e),r=t+(o>1?"s":"");return""+o+" "+r+" "+n}},o=[{threshold:-31535999,handler:a(-31536e3,"year","from now")},{threshold:-2591999,handler:a(-2592e3,"month","from now")},{threshold:-604799,handler:a(-604800,"week","from now")},{threshold:-172799,handler:a(-86400,"day","from now")},{threshold:-86399,handler:function(){return"tomorrow"}},{threshold:-3599,handler:a(-3600,"hour","from now")},{threshold:-59,handler:a(-60,"minute","from now")},{threshold:-.9999,handler:a(-1,"second","from now")},{threshold:5,handler:function(){return"Just now"}},{threshold:60,handler:a(1,"second","ago")},{threshold:3600,handler:a(60,"minute","ago")},{threshold:86400,handler:a(3600,"hour","ago")},{threshold:172800,handler:function(){return"Yesterday"}},{threshold:604800,handler:a(86400,"day","ago")},{threshold:2592e3,handler:a(604800,"week","ago")},{threshold:31536e3,handler:a(2592e3,"month","ago")},{threshold:1/0,handler:a(31536e3,"year","ago")}];t.exports=prettyDate=function(e){for(var t=((new Date).getTime()-e.getTime())/1e3,n=0;n<o.length;n++)if(t<o[n].threshold)return o[n].handler(t);return"Unknown date"}},{}]},{},[1]);